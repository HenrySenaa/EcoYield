<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Financeira</title>
    <link rel="stylesheet" href="styleCalculadora.css">
</head>

<body>
    <main>
        <aside>
            <div class="conteiner">
                <h1 class="titulo">Simulador <span style="color: #E6BA35;">Eco</span>Yield</h1>

                <p>Calcule a sua taxa de absenteismo e nos contrate para melhorar o desempenho da sua empresa</p>
                <span class="label">Quantidade total de funcionários:</span>
                <input id="input_qtdFuncionarios" placeholder="Quantidade total de funcionarios na empresa">
                <br>
                <span class="label">Total de horas trabalhadas perdidas no mês:</span>
                <input id="input_qtdHorasPerdidas" placeholder="Horas perdidas com atestado, falta, atraso"> 
                <br>
                <span class="label">Quantidade de horas diárias de trabalho:</span>
                <input id="input_qtdHorasDiariasTrabalhadas" placeholder="Ex: 8">
                <br>
                <span class="label">Quantidade de dias trabalhos no mês:</span>
                <input id="input_qtdDiasMesTrabalhados" placeholder="Ex: 22">
                <br>
                <span class="label">Média do salario base:</span>
                <input id="input_mediaSalarioBase" placeholder="Ex: 2200">
                <button onclick="calcular()" style="font-size: 18px; font-weight: bold;">Calcular taxa</button>
            </div>
        </aside>
        <article>
            <p style="color: greenyellow;"></p>
            <div id="conteinerResultado">
            </div>

        </article>
    </main>
    

</body>

</html>

<script>
    function calcular() {
        var funcionarios = Number(input_qtdFuncionarios.value)
        var horasPerdidas = Number(input_qtdHorasPerdidas.value)
        var horasDiariasTrabalhadas = Number(input_qtdHorasDiariasTrabalhadas.value)
        var diasTrabalhadosMes = Number(input_qtdDiasMesTrabalhados.value)
        var salarioBaseMedia = Number(input_mediaSalarioBase.value)
        var horasTrabalhadasMensal = funcionarios * horasDiariasTrabalhadas * diasTrabalhadosMes 
            var resultadoAbsenteismo = (horasPerdidas / horasTrabalhadasMensal * 100).toFixed(2)
        var mediaAcimaAceitavel = (resultadoAbsenteismo - 4).toFixed(2)
        var mediaAbaixoAceitavel = (4 - resultadoAbsenteismo).toFixed(2)
        var totalDias = (horasPerdidas / 24).toFixed(2)
        var mediaFaltasFuncionario = (totalDias / funcionarios).toFixed(2)
        var salarioPerdidoMes = (salarioBaseMedia / diasTrabalhadosMes).toFixed(2)
        var conversorHorasDias = (horasPerdidas / 24).toFixed(2)
        var mediaSalarioPerdido = (salarioPerdidoMes * conversorHorasDias).toFixed(2)

        if (resultadoAbsenteismo > 4) {
            conteinerResultado.innerHTML = `A sua empresa tem uma taxa de absenteismo de <span style="font-weight: bold; color: #dd8282;">${resultadoAbsenteismo}%</span>.
            <br><br>
            Sua empresa está  <span style="font-weight: bold; color: #dd8282;">${mediaAcimaAceitavel}%</span> acima da média aceitável para uma empresa, logo está em estado de alerta baseado em estudos feitos.
            <br><br>
            Soma de faltas de todos os funcionários no mês e convertido em dias foi de: ${totalDias}.
            <br><br>
            O salário perdido no final do mês com <u>${horasPerdidas}</u> horas perdidas de trabalho de todos os funcionários será de: <span style="font-weight: bold; color: #dd8282;">R$${mediaSalarioPerdido}.</span>
            <br><br>

            Com a sua empresa em estado de alerta, para reduzir a sua taxa de absenteísmo em boa parte, é recomendado que contrate nosso serviço de monitoramente de temperatura de seus escritórios, aumentando a qualidade do ambiente e eficiência do seu funcionário. Fazendo assim com que tenha uma taxa menor de faltas e consequentemente diminua a taxa de absenteísmo.
            `
        } else {
            conteinerResultado.innerHTML = `A sua empresa tem uma taxa de absenteismo de <span style="font-weight: bold; color: #11d411;">${resultadoAbsenteismo}%</span>.
            <br><br>
            Sua empresa está  <span style="font-weight: bold; color: #11d411;">${mediaAbaixoAceitavel}%</span> abaixo da média para uma empresa, baseado em estudos feitos.
            <br><br>
            Soma de faltas de todos os funcionários no mês e convertido em dias foi de: ${totalDias} .
            <br><br>
            O salário perdido no final do mês com <u>${horasPerdidas}</u> horas perdidas de trabalho de todos os funcionários será de: <span style="font-weight: bold; color: #dd8282;">R$${mediaSalarioPerdido}.</span>
            <br><br>
            Caso não esteja satisfeito com a taxa de absenteísmo de sua empresa, contrate nosso serviço de monitoramente de temperatura de seus escritórios, para assim ter maior produtividade de seus funcionários e uma menor taxa de faltas. Diminuindo assim a taxa de absenteísmo.`
        }
    }


</script>